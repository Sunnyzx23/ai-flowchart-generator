
> ai-flowchart-backend@1.0.0 start
> node server.js

[dotenv@17.2.1] injecting env (11) from .env -- tip: ğŸ“¡ auto-backup env with Radar: https://dotenvx.com/radar
[AI Service] åŠ è½½Prompté…ç½®æˆåŠŸï¼Œç‰ˆæœ¬: 2.0
[Analysis Session] å¯åŠ¨ä¼šè¯æ¸…ç†å®šæ—¶å™¨
[dotenv@17.2.1] injecting env (0) from .env -- tip: ğŸ“¡ observe env with Radar: https://dotenvx.com/radar
ğŸš€ æœåŠ¡å™¨å·²å¯åŠ¨: http://localhost:3001
ğŸ“ ç¯å¢ƒ: development
ğŸ”— å‰ç«¯åœ°å€: http://localhost:5173
ğŸ“Š å¥åº·æ£€æŸ¥: http://localhost:3001/health
ğŸ“¨ GET /health - 2025-08-15T10:20:30.436Z
::1 - - [15/Aug/2025:10:20:30 +0000] "GET /health HTTP/1.1" 200 100 "-" "curl/8.6.0"
ğŸ“¤ GET /health ğŸŸ¢ 200 - 8ms
ğŸ“¨ POST /api/ai/analyze - 2025-08-15T10:20:38.780Z
[AI Controller] å¼€å§‹åˆ†æéœ€æ±‚: {
  requirement: 'æµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥...',
  productType: 'web',
  implementType: 'ai',
  source: 'text'
}
[AI Service] å¼€å§‹æµç¨‹å›¾åˆ†æ: {
  requirement: 'æµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥...',
  productType: 'web',
  implementType: 'ai'
}
[AI Service] Promptç»„è£…å®Œæˆï¼Œé•¿åº¦: 834
[Error Retry Service] æ‰§è¡Œå°è¯• 1/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\nã€äº§å“ç±»å‹ã€‘ï¼š...
::1 - - [15/Aug/2025:10:20:58 +0000] "POST /api/ai/analyze HTTP/1.1" - - "-" "curl/8.6.0"
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:21:09.087Z'
}
[Error Retry Service] å°è¯• 1 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\\nã€äº§å“ç±»å‹ã€‘ï¼šweb\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\n\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 2367,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 2367\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 1074.2247027707838ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 2/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\nã€äº§å“ç±»å‹ã€‘ï¼š...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:21:40.388Z'
}
[Error Retry Service] å°è¯• 2 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\\nã€äº§å“ç±»å‹ã€‘ï¼šweb\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\n\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 2367,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 2367\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 1820.8986727339088ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 3/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\nã€äº§å“ç±»å‹ã€‘ï¼š...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:22:12.539Z'
}
[Error Retry Service] å°è¯• 3 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\\nã€äº§å“ç±»å‹ã€‘ï¼šweb\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\n\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 2367,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 2367\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 4225.299368229875ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 4/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\nã€äº§å“ç±»å‹ã€‘ï¼š...
ğŸ“¨ POST /api/ai/analyze - 2025-08-15T10:22:32.096Z
[AI Controller] å¼€å§‹åˆ†æéœ€æ±‚: {
  requirement: 'ç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾...',
  productType: 'desktop',
  implementType: 'ai',
  source: 'text'
}
[AI Service] å¼€å§‹æµç¨‹å›¾åˆ†æ: {
  requirement: 'ç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾...',
  productType: 'desktop',
  implementType: 'ai'
}
[AI Service] Promptç»„è£…å®Œæˆï¼Œé•¿åº¦: 1126
[Error Retry Service] æ‰§è¡Œå°è¯• 1/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:22:47.075Z'
}
[Error Retry Service] å°è¯• 4 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\\nã€äº§å“ç±»å‹ã€‘ï¼šweb\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\n\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 2367,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 2367\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ä¸å†é‡è¯•ï¼ŒåŸå› : è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°
[AI Service] æµç¨‹å›¾åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\\nã€äº§å“ç±»å‹ã€‘ï¼šweb\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\n\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 2367,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 2367\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] éœ€æ±‚åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šæµ‹è¯•é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªè¯·æ±‚åº”è¯¥ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥\\nã€äº§å“ç±»å‹ã€‘ï¼šweb\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\n\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 2367,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 2367\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] è¯·æ±‚å¤±è´¥ï¼Œè€—æ—¶: 128311ms
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:23:02.283Z'
}
[Error Retry Service] å°è¯• 1 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 1070.223858636054ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 2/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:23:33.554Z'
}
[Error Retry Service] å°è¯• 2 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 2022.418814830155ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 3/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:24:05.802Z'
}
[Error Retry Service] å°è¯• 3 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 4335.685800319558ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 4/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-15T10:24:40.359Z'
}
[Error Retry Service] å°è¯• 4 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ä¸å†é‡è¯•ï¼ŒåŸå› : è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°
[AI Service] æµç¨‹å›¾åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] éœ€æ±‚åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] è¯·æ±‚å¤±è´¥ï¼Œè€—æ—¶: 128272ms
::1 - - [15/Aug/2025:10:24:40 +0000] "POST /api/ai/analyze HTTP/1.1" 500 259 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"
ğŸ“¤ POST /analyze ğŸ”´ 500 - 128280ms
ğŸ“¨ POST /api/ai/analyze - 2025-08-16T06:56:32.828Z
[AI Controller] å¼€å§‹åˆ†æéœ€æ±‚: {
  requirement: '\n' +
    'ç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾...',
  productType: 'desktop',
  implementType: 'ai',
  source: 'text'
}
[AI Service] å¼€å§‹æµç¨‹å›¾åˆ†æ: {
  requirement: '\n' +
    'ç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾...',
  productType: 'desktop',
  implementType: 'ai'
}
[AI Service] Promptç»„è£…å®Œæˆï¼Œé•¿åº¦: 1127
[Error Retry Service] æ‰§è¡Œå°è¯• 1/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T06:57:03.068Z'
}
[Error Retry Service] å°è¯• 1 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3159,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3159\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 1024.2732519413282ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 2/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T06:57:34.296Z'
}
[Error Retry Service] å°è¯• 2 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3159,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3159\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 1857.3801191084617ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 3/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T06:58:06.363Z'
}
[Error Retry Service] å°è¯• 3 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3159,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3159\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 4353.5011569831ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 4/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T06:58:40.923Z'
}
[Error Retry Service] å°è¯• 4 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3159,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3159\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ä¸å†é‡è¯•ï¼ŒåŸå› : è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°
[AI Service] æµç¨‹å›¾åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3159,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3159\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] éœ€æ±‚åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼š\\nç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qiæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3159,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3159\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] è¯·æ±‚å¤±è´¥ï¼Œè€—æ—¶: 128098ms
::1 - - [16/Aug/2025:06:58:40 +0000] "POST /api/ai/analyze HTTP/1.1" 500 259 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"
ğŸ“¤ POST /analyze ğŸ”´ 500 - 128104ms
ğŸ“¨ GET /health - 2025-08-16T07:00:45.639Z
::1 - - [16/Aug/2025:07:00:45 +0000] "GET /health HTTP/1.1" 200 100 "-" "curl/8.6.0"
ğŸ“¤ GET /health ğŸŸ¢ 200 - 3ms
ğŸ“¨ POST /api/ai/analyze - 2025-08-16T07:00:48.625Z
::1 - - [16/Aug/2025:07:00:48 +0000] "POST /api/ai/analyze HTTP/1.1" 400 97 "-" "curl/8.6.0"
ğŸ“¤ POST /analyze ğŸ”´ 400 - 3ms
ğŸ“¨ POST /api/ai/analyze - 2025-08-16T07:00:56.782Z
[AI Controller] å¼€å§‹åˆ†æéœ€æ±‚: {
  requirement: 'ç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾...',
  productType: 'desktop',
  implementType: 'ai',
  source: 'text'
}
[AI Service] å¼€å§‹æµç¨‹å›¾åˆ†æ: {
  requirement: 'ç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾...',
  productType: 'desktop',
  implementType: 'ai'
}
[AI Service] Promptç»„è£…å®Œæˆï¼Œé•¿åº¦: 1126
[Error Retry Service] æ‰§è¡Œå°è¯• 1/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T07:01:26.984Z'
}
[Error Retry Service] å°è¯• 1 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 1056.6075352787193ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 2/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
::1 - - [16/Aug/2025:07:01:43 +0000] "POST /api/ai/analyze HTTP/1.1" - - "-" "curl/8.6.0"
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T07:01:58.244Z'
}
[Error Retry Service] å°è¯• 2 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 2181.3648129763683ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 3/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
ğŸ“¨ GET /api/ai/health - 2025-08-16T07:02:15.489Z
[AI Service] å‘èµ·AIè°ƒç”¨: No data...
[AI Service] AIè°ƒç”¨æˆåŠŸ: 200
::1 - - [16/Aug/2025:07:02:15 +0000] "GET /api/ai/health HTTP/1.1" 200 112 "-" "curl/8.6.0"
ğŸ“¤ GET /health ğŸŸ¢ 200 - 230ms
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T07:02:30.644Z'
}
[Error Retry Service] å°è¯• 3 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ç­‰å¾… 3845.2863164626438ms åé‡è¯•...
[Error Retry Service] æ‰§è¡Œå°è¯• 4/4
[AI Service] å‘èµ·AIè°ƒç”¨: {"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\n\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹...
[AI Service] AIè°ƒç”¨å¤±è´¥: aborted
[Error Retry Service] é”™è¯¯è®°å½•: {
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium',
  timestamp: '2025-08-16T07:03:04.684Z'
}
[Error Retry Service] å°è¯• 4 å¤±è´¥: {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  type: 'network_error',
  message: 'aborted',
  code: 'ECONNRESET',
  statusCode: undefined,
  retryable: true,
  severity: 'medium'
}
[Error Retry Service] ä¸å†é‡è¯•ï¼ŒåŸå› : è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°
[AI Service] æµç¨‹å›¾åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] éœ€æ±‚åˆ†æå¤±è´¥: Error: ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•
    at ErrorRetryService.enhanceError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:231:27)
    at ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:89:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
    at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
    at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
  originalError: AxiosError: aborted
      at AxiosError.from (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/AxiosError.js:92:14)
      at Unzip.handleStreamError (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/adapters/http.js:583:29)
      at Unzip.emit (node:events:519:35)
      at emitErrorNT (node:internal/streams/destroy:170:8)
      at emitErrorCloseNT (node:internal/streams/destroy:129:3)
      at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      at Axios.request (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/node_modules/axios/lib/core/Axios.js:45:41)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async errorRetryService.executeWithRetry.maxRetries (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:189:24)
      at async ErrorRetryService.executeWithRetry (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/errorRetryService.js:58:24)
      at async AIService.generateText (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:173:12)
      at async AIService.analyzeFlowchart (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/services/aiService.js:248:22)
      at async analyzeRequirement (file:///Users/sunnyzx-wps/Documents/ai_tools/ai_to_md/backend/src/controllers/aiController.js:112:24) {
    code: 'ECONNRESET',
    config: {
      transitional: [Object],
      adapter: [Array],
      transformRequest: [Array],
      transformResponse: [Array],
      timeout: 30000,
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
      maxContentLength: -1,
      maxBodyLength: -1,
      env: [Object],
      validateStatus: [Function: validateStatus],
      headers: [Object [AxiosHeaders]],
      baseURL: 'https://api.deepseek.com/v1',
      method: 'post',
      url: '/chat/completions',
      data: `{"model":"deepseek-chat","messages":[{"role":"user","content":"ä½ æ˜¯èµ„æ·±çš„äº§å“æ¶æ„å¸ˆå’Œä¸šåŠ¡æµç¨‹ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯åŸºäºç”¨æˆ·çš„ç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œå¹¶ç”Ÿæˆä¸“ä¸šçš„æµç¨‹å›¾ã€‚ä½ è¦æˆä¸ºç”¨æˆ·çš„ä¸šåŠ¡åˆ†æåŠ©æ‰‹ï¼Œè€Œä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æ‰€æœ‰ç»†èŠ‚ã€‚\\n\\nã€ç”¨æˆ·éœ€æ±‚ã€‘ï¼šç”¨æˆ·åœ¨wps officeçš„pcå®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä¸€ä¸ªpdfæ–‡æ¡£ï¼Œç‚¹å‡»å¯¼èˆªä¸Šçš„aiå…¨æ–‡å¯¹ç…§ç¿»è¯‘å…¥å£ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•æ€ï¼Œç™»å½•åï¼Œåˆ¤æ–­ç”¨æˆ·qjæƒç›Šï¼Œä½¿ç”¨å…¨æ–‡ç¿»è¯‘åŠŸèƒ½ï¼Œè¯·è¾“å‡ºè¿™ä¸ªå…¨æ–‡ç¿»è¯‘åŠŸèƒ½çš„ä½¿ç”¨å’Œå•†ä¸šåŒ–çš„æµç¨‹å›¾\\nã€äº§å“ç±»å‹ã€‘ï¼šdesktop - æœ¬åœ°æ–‡ä»¶å¤„ç†ã€ç³»ç»Ÿé›†æˆã€ç¦»çº¿èƒ½åŠ›\\nã€å®ç°æ–¹å¼ã€‘ï¼šai\\nã€æŠ€æœ¯è€ƒè™‘ã€‘ï¼šæ–‡ä»¶æ ¼å¼å…¼å®¹æ€§ã€æœ¬åœ°ç¼“å­˜ç­–ç•¥ã€ç³»ç»Ÿæƒé™è·å–ã€ç½‘ç»œè¿æ¥å¤„ç†ã€å¤šçª—å£åè°ƒ\\n\\nã€ä¸šåŠ¡åœºæ™¯å‚è€ƒã€‘ï¼š\\næ ¸å¿ƒæµç¨‹åº”åŒ…å«ï¼šæ–‡æ¡£æ‰“å¼€ä¸è§£æ â†’ ç¿»è¯‘æœåŠ¡é€‰æ‹©ä¸é…ç½® â†’ å†…å®¹æå–ä¸é¢„å¤„ç† â†’ AIç¿»è¯‘è°ƒç”¨ä¸ç»“æœå¤„ç† â†’ è¯‘æ–‡å±•ç¤ºä¸å¯¹æ¯” â†’ ç”¨æˆ·ç¼–è¾‘ä¸ç¡®è®¤ â†’ ä¿å­˜ä¸å¯¼å‡º\\nå•†ä¸šé€»è¾‘è¦ç‚¹ï¼šä¼šå‘˜æƒç›ŠéªŒè¯ï¼ˆå…è´¹ç”¨æˆ·é™åˆ¶ï¼‰ã€ç¿»è¯‘è´¨é‡ç­‰çº§é€‰æ‹©ã€è®¡è´¹é€»è¾‘ï¼ˆæŒ‰é¡µæ•°/å­—æ•°ï¼‰ã€ç¿»è¯‘å†å²è®°å½•ã€åä½œä¸åˆ†äº«åŠŸèƒ½\\n\\nã€æ™ºèƒ½åˆ†æä»»åŠ¡ã€‘ï¼š\\nä½ éœ€è¦åŸºäºä»¥ä¸Šç®€å•éœ€æ±‚æè¿°ï¼Œä¸»åŠ¨è¿›è¡Œæ·±åº¦ä¸šåŠ¡åˆ†æï¼š\\n\\n1. **åœºæ™¯ç†è§£**ï¼šæ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œè¯†åˆ«å…³é”®è§’è‰²ã€æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨ç¯å¢ƒ\\n2. **æµç¨‹æ¨æ–­**ï¼šåŸºäºè¡Œä¸šç»éªŒå’Œäº§å“é€»è¾‘ï¼Œæ¨æ–­å‡ºå®Œæ•´çš„ä¸šåŠ¡æµç¨‹  \\n3. **å…³é”®èŠ‚ç‚¹è¯†åˆ«**ï¼šè¯†åˆ«æƒé™éªŒè¯ã€ä»˜è´¹èŠ‚ç‚¹ã€AIè°ƒç”¨ã€å¼‚å¸¸å¤„ç†ç­‰å…³é”®ä¸šåŠ¡èŠ‚ç‚¹\\n4. **å•†ä¸šé€»è¾‘åˆ†æ**ï¼šåˆ†æå•†ä¸šåŒ–æœºä¼šã€ç”¨æˆ·ä»˜è´¹æ„æ„¿ã€ä¼šå‘˜æƒç›Šç­‰å•†ä¸šé€»è¾‘\\n5. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè€ƒè™‘ç”¨æˆ·æ“ä½œä¾¿åˆ©æ€§ã€åé¦ˆåŠæ—¶æ€§ã€é”™è¯¯æ¢å¤ç­‰ä½“éªŒè¦ç´ \\n\\nã€è¾“å‡ºè¦æ±‚ã€‘ï¼š\\nâ€¢ ä½“ç°å…·ä½“ä¸šåŠ¡åœºæ™¯çš„çœŸå®æµç¨‹ï¼Œä¸æ˜¯é€šç”¨æ¨¡æ¿\\nâ€¢ åŒ…å«å…³é”®çš„å•†ä¸šåŒ–èŠ‚ç‚¹å’Œç”¨æˆ·å†³ç­–ç‚¹\\nâ€¢ æ˜¾ç¤ºå…·ä½“çš„åŠŸèƒ½æ¨¡å—å’Œæ•°æ®æµè½¬\\nâ€¢ ä½“ç°ç”¨æˆ·çš„å®é™…æ“ä½œè·¯å¾„å’Œé€‰æ‹©\\nâ€¢ åŒ…å«æœ‰æ„ä¹‰çš„å¼‚å¸¸å¤„ç†å’Œé™çº§æ–¹æ¡ˆ\\nâ€¢ èŠ‚ç‚¹å‘½åè¦å…·ä½“ï¼Œé¿å…'å¤„ç†'ã€'éªŒè¯'ç­‰é€šç”¨è¯æ±‡\\nâ€¢ ä½¿ç”¨æ ‡å‡†Mermaid flowchart TDè¯­æ³•ï¼Œç¡®ä¿å¯æ¸²æŸ“\\n\\nã€è´¨é‡æ ‡å‡†ã€‘ï¼š\\nâ€¢ æµç¨‹å›¾å¿…é¡»å¯¹äº§å“ç»ç†æœ‰å®é™…æŒ‡å¯¼ä»·å€¼\\nâ€¢ èƒ½å¤Ÿå¸®åŠ©å¼€å‘å›¢é˜Ÿç†è§£ä¸šåŠ¡é€»è¾‘\\nâ€¢ ä½“ç°çœŸå®çš„ç”¨æˆ·ä½¿ç”¨åœºæ™¯å’Œç—›ç‚¹\\nâ€¢ åŒ…å«å¯æ‰§è¡Œçš„å•†ä¸šåŒ–ç­–ç•¥å»ºè®®\\nâ€¢ é¿å…ç©ºæ´çš„é€šç”¨æµç¨‹æ¨¡æ¿\\n\\nã€é‡è¦æé†’ã€‘ï¼š\\né’ˆå¯¹WPSç¿»è¯‘åŠŸèƒ½ï¼Œåº”è¯¥ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„å…·ä½“æµç¨‹ï¼šç”¨æˆ·æ‰“å¼€PDF â†’ ç‚¹å‡»ç¿»è¯‘æŒ‰é’® â†’ æ£€æŸ¥ä¼šå‘˜æƒé™ï¼ˆå…è´¹ç”¨æˆ·æ¯æ—¥5é¡µé™åˆ¶ï¼‰â†’ é€‰æ‹©ç¿»è¯‘è¯­è¨€å’Œè´¨é‡ â†’ æå–æ–‡æ¡£å†…å®¹ â†’ è°ƒç”¨ç¿»è¯‘API â†’ æ˜¾ç¤ºå¯¹ç…§ç¿»è¯‘ç»“æœ â†’ ç”¨æˆ·ç¡®è®¤ä¿®æ”¹ â†’ ä¿å­˜/å¯¼å‡ºï¼Œè€Œä¸æ˜¯é€šç”¨çš„'å¼€å§‹â†’åˆ†æâ†’å¤„ç†â†’ç»“æŸ'æ¨¡æ¿ã€‚\\n\\nè¯·åŸºäºä»¥ä¸Šåˆ†æï¼Œç”Ÿæˆå…·æœ‰å®é™…ä¸šåŠ¡ä»·å€¼çš„ä¸“ä¸šæµç¨‹å›¾ï¼Œä½¿ç”¨æ ‡å‡†Mermaidè¯­æ³•ã€‚"}],"temperature":0.3,"max_tokens":4000,"top_p":0.9,"stream":false}`,
      allowAbsoluteUrls: true
    },
    request: ClientRequest {
      _events: [Object: null prototype],
      _eventsCount: 7,
      _maxListeners: undefined,
      outputData: [],
      outputSize: 0,
      writable: true,
      destroyed: true,
      _last: false,
      chunkedEncoding: false,
      shouldKeepAlive: true,
      maxRequestsOnConnectionReached: false,
      _defaultKeepAlive: true,
      useChunkedEncodingByDefault: true,
      sendDate: false,
      _removedConnection: false,
      _removedContLen: false,
      _removedTE: false,
      strictContentLength: false,
      _contentLength: 3157,
      _hasBody: true,
      _trailer: '',
      finished: true,
      _headerSent: true,
      _closed: true,
      _header: 'POST /v1/chat/completions HTTP/1.1\r\n' +
        'Accept: application/json, text/plain, */*\r\n' +
        'Content-Type: application/json\r\n' +
        'Authorization: Bearer sk-894ae1e978ce45239084604440efd1f5\r\n' +
        'HTTP-Referer: http://localhost:3001\r\n' +
        'User-Agent: axios/1.11.0\r\n' +
        'Content-Length: 3157\r\n' +
        'Accept-Encoding: gzip, compress, deflate, br\r\n' +
        'Host: api.deepseek.com\r\n' +
        'Connection: keep-alive\r\n' +
        '\r\n',
      _keepAliveTimeout: 0,
      _onPendingData: [Function: nop],
      agent: [Agent],
      socketPath: undefined,
      method: 'POST',
      maxHeaderSize: undefined,
      insecureHTTPParser: undefined,
      joinDuplicateHeaders: undefined,
      path: '/v1/chat/completions',
      _ended: false,
      res: [IncomingMessage],
      aborted: false,
      timeoutCb: [Function: emitRequestTimeout],
      upgradeOrConnect: false,
      parser: null,
      maxHeadersCount: null,
      reusedSocket: false,
      host: 'api.deepseek.com',
      protocol: 'https:',
      _redirectable: [Writable],
      [Symbol(shapeMode)]: false,
      [Symbol(kCapture)]: false,
      [Symbol(kBytesWritten)]: 0,
      [Symbol(kNeedDrain)]: false,
      [Symbol(corked)]: 0,
      [Symbol(kChunkedBuffer)]: [],
      [Symbol(kChunkedLength)]: 0,
      [Symbol(kSocket)]: [TLSSocket],
      [Symbol(kOutHeaders)]: [Object: null prototype],
      [Symbol(errored)]: null,
      [Symbol(kHighWaterMark)]: 65536,
      [Symbol(kRejectNonStandardBodyWrites)]: false,
      [Symbol(kUniqueHeaders)]: null
    },
    cause: Error: aborted
        at TLSSocket.socketCloseListener (node:_http_client:478:19)
        at TLSSocket.emit (node:events:519:35)
        at node:net:351:12
        at TCP.done (node:_tls_wrap:650:7) {
      code: 'ECONNRESET'
    }
  },
  errorType: 'network_error',
  attempts: 4,
  retryable: true,
  severity: 'medium'
}
[AI Controller] è¯·æ±‚å¤±è´¥ï¼Œè€—æ—¶: 127903ms
